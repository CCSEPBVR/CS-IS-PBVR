#*****************************************************************************
#  $Id: Makefile.$nmake 62 2009-03-19 06:58:44Z naohisa.sakamoto $
#*****************************************************************************

#=============================================================================
#  Include.
#=============================================================================
!INCLUDE kvs.conf
!INCLUDE Makefile.vc.def


#=============================================================================
#  INCLUDE_PATH, LIBRARY_PATH, LINK_LIBRARY, INSTALL_DIR.
#=============================================================================
INCLUDE_PATH =
LIBRARY_PATH =
LINK_LIBRARY =
INSTALL_DIR  = $(KVS_DIR)


#=============================================================================
#  Sub directory.
#=============================================================================
SUBDIRS = Source Tool


#=============================================================================
#  build.
#=============================================================================
build:
	FOR %%i IN ( $(SUBDIRS) ) DO \
	CD %%i && $(MAKE) /f $(MAKEFILE) /$(MAKEFLAGS) build && CD ..


#=============================================================================
#  clean.
#=============================================================================
clean:
	FOR %%i IN ( $(SUBDIRS) ) DO \
	CD %%i && $(MAKE) /f $(MAKEFILE) /$(MAKEFLAGS) clean && CD ..


#=============================================================================
#  install.
#=============================================================================
install:
	IF NOT EXIST $(INSTALL_DIR) $(MKDIR) $(INSTALL_DIR)
	$(INSTALL) kvs.conf        $(INSTALL_DIR)
	$(INSTALL) Makefile.vc.def $(INSTALL_DIR)
	FOR %%i IN ( $(SUBDIRS) ) DO \
	CD %%i && $(MAKE) /f $(MAKEFILE) /$(MAKEFLAGS) install && CD ..


#=============================================================================
#  uninstall.
#=============================================================================
uninstall:
	IF EXIST $(INSTALL_DIR) $(RMDIR) $(INSTALL_DIR)


#=============================================================================
#  reinstall.
#=============================================================================
reinstall: uninstall install
